#!/bin/liz

print("Building...")
if Liz.has("src/all.ts") then Liz.run("mkall") end
if Liz.is_win() then
    Ext = ".cmd"
else
    Ext = ""
end
Liz.cmd("npm" .. Ext, {"install"})
print("Done install dependencies.")
Liz.cmd("tsc" .. Ext, {"-p", "tsconfig.json"})

if Liz.has("build.liz") then 
    print("Building specifics...")
    Liz.run_wd("build.liz") 
    print("Done build specifics...")
end

print("Done build application")
